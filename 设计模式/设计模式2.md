# 设计模式

## 单例模式

- 饿汉单例模式
- 懒汉单例模式
- 创建流程：构造函数私有化，删除拷贝构造函数、赋值运算符；类内创建唯一一个实例对象；获取类实例对象的唯一方法
- 线程安全问题：饿汉一种写法，懒汉两种写法

## 工厂模式

- 封装了对象的创建，new对象的操作在工厂中

- 简单工厂：一个工厂（父类）创建所有商品

- 问题：接口函数不闭合，不能对修改关闭

  

- 工厂方法：一个派生类创建一个产品

- 问题：很多产品有联系，但是设计了大量工厂

  

- 抽象工厂：一个派生类创建一系列有关系的产品

- 车工厂创建宝马、奥迪

- 宝马工厂创建宝马，奥迪同，继承自车工厂

- 宝马工厂创建宝马和宝马灯，奥迪同，继承自车工厂

## 代理模式 Proxy

- 通过代理类，控制对实际对象的访问权限
- 抽象类
- 委托类（继承抽象类）：接口的真正实现者
- 代理类（继承抽象类，有一个委托类对象）：提供特定服务
- eg：电影中的免费、VIP、用券

## 装饰器模式 Decorator

- 给对象增加某些特性或者对被装饰对象进行某些修改
- [讲解](https://www.cnblogs.com/lustar/p/9330974.html)
- 馍加各种食物，单独加，不放在馍的类种，要不然修改成本大

## 适配器模式 Adapter

- 将一个类的接口转换成客户希望的另外一个接口
- 客户使用方法不变，使用适配器转换为客户想要的模式
- 转换头，HDMI转VGA

## 观察者模式 Observer

- 发布-订阅模式、观察者-监听者模式
- 多个对象间存在一对多的依赖关系
- 主题变化，通知对应的观察者
