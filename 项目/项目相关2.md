# ChatServer

- Question：
  1. **数据传输的安全问题？**
     - 混合加密：对称加密（两边用同一个私钥、AES）+非对称加密（公钥+私钥，公钥加密只能私钥解密、RSA）
     - 内容用对称加密，对称加密的密钥用非对称加密
     - 服务端公钥加密对称加密的私钥，客户端用私钥解密对称加密的私钥，从而进行验证和数据读操作
     - 对称加密：快速，安全性低，两边公用一个密钥
     - 非对称加密：安全性高，加密复杂
  2. **如何保证消息按序显示？**
     - 使用时间戳，在客户端显示进行信息的排序；但是消息错乱顺序多的时候不好进行排序
     - 使用seq序列号，0号消息未到，1号消息已到，1号消息在客户端等待，等到0号消息到来后一起进行显示
     - 用seq序列号，还可以进行撤回功能拓展，否则不容易找到对应撤回消息
     - seq越界问题，用unsigned long long超过最大值之后变为0，两边共用一个seq，不太需要担心越界问题
  3. Server如何感知客户端状态？